#version 330 core

layout(location = 0) out vec4 o_color;

in vec3 f_normal;
in vec3 f_pos;

uniform vec3 u_Color;
uniform vec4 u_lightPos;

void main() {
    vec3 delta = u_lightPos.xyz - f_pos;
    float dist = length(delta);
    float intensity = u_lightPos.w * dot(delta/dist, f_normal);
	o_color = vec4(u_Color * intensity / (dist*dist), 1.0);
};